<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario Colombia Gamer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      animation: fadeIn 1s ease-in;
        margin: 0;
      padding: 0;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
     .video-wrapper {
      width: 100%;
      max-width: 720px;
      padding: 0 10px;
    }

    video {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .form-section {
      background: rgba(0,0,0,0.7);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,255,255,0.5);
      margin-bottom: 2rem;
    }
    label {
      color: #00ffe7;
    }
    .btn-custom {
      background-color: #00ffe7;
      color: #000;
      font-weight: bold;
    }
    .btn-custom:hover {
      background-color: #00bfbf;
    }
    select, input {
      background-color: #111827;
      color: #00ffe7;
      border: 1px solid #2c2c54;
    }
    select option {
      background-color: #0d1220;
      color: #00ffe7;
    }
    #resumenDatos {
      white-space: pre-line;
    }

   
  </style>
</head>
<body>

<div class="container mt-4">
  <div id="consentimiento" class="form-section text-center">
    <img src="imagen/movistar.webp" width="100%" alt="Intro">
    <h2 class="mt-3">Tratamiento de datos</h2>
    <p>PARA CONTINUAR, ES IMPORTANTE CONOCER SI VOLUNTARIAMENTE ACEPTAS SUMINISTRAR TUS DATOS PERSONALES <br><br>
    <strong style="color: green;">ART√çCULO 5 LEY 1581 DE 2012</strong></p>
    <button class="btn btn-custom me-2" onclick="mostrarFormulario()">Acepto suministrar</button>
    <button class="btn btn-danger" onclick="alert('Sin aceptar tratamiento de datos no es posible enviarle el servicio')">No acepto</button>
  </div>

  <form id="formulario" class="form-section d-none">
     <video id="miVideo" width="640" height="360" autoplay controls>
    <source src="video/video movistar.mp4" type="video/mp4">
    Tu navegador no soporta el elemento de video.
  </video>
    <div class="row mt-4">
      <div class="col-md-6">
        <label>Nombre completo</label>
        <input type="text" id="nombre" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Tipo de documento</label>
        <select id="tipoDocumento" class="form-control" required>
          <option value="">Seleccione</option>
          <option value="CC">C√©dula de Ciudadan√≠a</option>
          <option value="CE">C√©dula de Extranjer√≠a</option>
        </select>
      </div>
      <div class="col-md-6">
        <label>N√∫mero de documento</label>
        <input type="text" id="numeroDocumento" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Fecha de expedici√≥n</label>
        <input type="date" id="fechaExp" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Fecha de nacimiento</label>
        <input type="date" id="fechaNac" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Correo electr√≥nico</label>
        <input type="email" id="email" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Direcci√≥n completa</label>
        <input type="text" id="direccion" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Ciudad o Municipio</label>
        <select id="ciudad" class="form-control" required></select>
      </div>
      <div class="col-md-6">
        <label>Barrio</label>
        <input type="text" id="barrio" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label>Estrato</label>
        <select id="estrato" class="form-control" required>
          <option value="">Seleccione</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
        </select>
      </div>
      <div class="col-md-6">
        <label>Celular</label>
        <input type="tel" id="celular" class="form-control">
      </div>
    <div class="col-md-6">
  <label>Plan</label>
  <select id="plan" class="form-control" onchange="actualizarValorPlan()" required>
    <option value="">Seleccione...</option>
    <optgroup label="üü¶ TRIO">
      <option value="TRIO1">Internet 900MB + TV 74 Canales</option>
      <option value="TRIO2">Internet 900MB + TV 74 Canales + Disney Plus</option>
      <option value="TRIO3">Internet 900MB + TV 74 Canales + Win Futbol</option>
      <option value="TRIO4">Internet 900MB + TV 74 Canales + Netflix (solo estrato 6)</option>
    </optgroup>
    <optgroup label="üü© DUOS">
      <option value="DUO1">Internet 900MB + TV 9 Canales</option>
      <option value="DUO2">Internet 900MB + TV 9 Canales + Disney Plus</option>
      <option value="DUO3">Internet 900MB + TV 9 Canales + Win Futbol</option>
    </optgroup>
    <optgroup label="üü® NAKED">
      <option value="NAKED1">Internet 900MB + TV 9 Canales</option>
      <option value="NAKED2">Internet 900MB + TV 9 Canales + Disney Plus</option>
      <option value="NAKED3">Internet 900MB + TV 9 Canales + Win Futbol</option>
    </optgroup>
    <optgroup label="üü• EXCLUSIVA">
      <option value="EX1">Internet 900MB + Ilimitado + Win + Perplexity + TV</option>
      <option value="EX2">Internet 900MB + Ilimitado + Disney + Perplexity + TV</option>
    </optgroup>
  </select>
</div>
<div class="col-md-6">
  <label>Valor del plan</label>
  <input type="text" id="valorPlan" class="form-control" readonly>
</div>
    <div class="mt-4 text-center">
      <button type="button" class="btn btn-custom" onclick="mostrarResumen()">Enviar</button>
      <button type="button" class="btn btn-danger" onclick="motivoCancelacion()">Cancelar</button>
    </div>
  </form>

  <div id="resumen" class="form-section d-none text-center">
    <h4>Resumen de datos</h4>
    <div id="resumenDatos" class="mb-3"></div>
    <button class="btn btn-success me-2" onclick="enviarWhatsapp()">‚úÖ Confirmar</button>
    <button class="btn btn-warning" onclick="corregirFormulario()">‚úèÔ∏è Corregir</button>
  </div>
</div>

<script>
  async function cargarMunicipios() {
    const response = await fetch("https://raw.githubusercontent.com/marcovega/colombia-json/master/colombia.json");
    const departamentos = await response.json();
    const selectCiudad = document.getElementById("ciudad");

    departamentos.forEach(dep => {
      dep.ciudades.forEach(mun => {
        const option = document.createElement("option");
        option.value = `${mun} (${dep.departamento})`;
        option.textContent = `${mun} (${dep.departamento})`;
        selectCiudad.appendChild(option);
      });
    });
  }

  cargarMunicipios();

  function mostrarFormulario() {
    document.getElementById("consentimiento").classList.add("d-none");
    document.getElementById("formulario").classList.remove("d-none");
  }

 function actualizarValorPlan() {
  const plan = document.getElementById("plan").value;
  const estrato = document.getElementById("estrato").value;
  let valor = "";
  if (plan === "TRIO4" && estrato !== "6") {
    alert("El plan TRIO4 (con Netflix) solo est√° disponible para estrato 6");
    document.getElementById("plan").value = "";
    document.getElementById("valorPlan").value = "";
    return;
  }
  switch(plan) {
    case "TRIO1": valor = "$92.393"; break;
    case "TRIO2": valor = "$100.093"; break;
    case "TRIO3": valor = "$102.893"; break;
    case "TRIO4": valor = "$111.293"; break;
    case "DUO1": valor = "$65.093"; break;
    case "DUO2": valor = "$72.793"; break;
    case "DUO3": valor = "$74.193"; break;
    case "NAKED1": valor = "$62.993"; break;
    case "NAKED2": valor = "$70.693"; break;
    case "NAKED3": valor = "$72.093"; break;
    case "EX1": valor = "$89.990"; break;
    case "EX2": valor = "$89.990"; break;
    default: valor = "";
  }
  document.getElementById("valorPlan").value = valor;
}

  function mostrarResumen() {
    const campos = ["nombre", "tipoDocumento", "numeroDocumento", "fechaExp", "fechaNac", "email", "direccion", "ciudad", "barrio", "estrato", "celular", "plan", "valorPlan"];
    for (const id of campos) {
      if (!document.getElementById(id).value) {
        alert(`Por favor complete el campo: ${id}`);
        return;
      }
    }
    const etiquetas = {
      nombre: "üë§ Nombre",
      tipoDocumento: "üÜî Tipo Doc",
      numeroDocumento: "#Ô∏è‚É£ N√∫mero Doc",
      fechaExp: "üìÖ Fecha Exp.",
      fechaNac: "üéÇ Fecha Nac.",
      email: "üìß Correo",
      direccion: "üè† Direcci√≥n",
      ciudad: "üèôÔ∏è Ciudad",
      barrio: "üìç Barrio",
      estrato: "üìä Estrato",
      celular: "üì± Celular",
      plan: "üì¶ Plan",
      valorPlan: "üí∞ Valor"
    };
    const resumen = campos.map(id => `${etiquetas[id]}: ${document.getElementById(id).value}`).join("\n");
    document.getElementById("resumenDatos").textContent = resumen;
    document.getElementById("formulario").classList.add("d-none");
    document.getElementById("resumen").classList.remove("d-none");
  }

  function corregirFormulario() {
    document.getElementById("resumen").classList.add("d-none");
    document.getElementById("formulario").classList.remove("d-none");
  }

  function motivoCancelacion() {
    const motivo = prompt("¬øPor qu√© desea cancelar?");
    if (motivo) alert("Gracias por su respuesta");
  }

  function enviarWhatsapp() {
    const datos = document.getElementById("resumenDatos").textContent;
    const mensaje = encodeURIComponent("üöÄ NUEVO FORMULARIO:\n" + datos);
    window.open(`https://wa.me/573103509843?text=${mensaje}`, "_blank");
  }

    const video = document.getElementById('miVideo');
    video.muted = false;
    video.play().catch((error) => {
      console.warn("El navegador bloque√≥ la reproducci√≥n autom√°tica con audio. Requiere interacci√≥n del usuario.");
    });
</script>

</body>
</html>
